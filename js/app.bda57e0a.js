(function(){var e={6694:function(e,t,r){"use strict";var n=r(7764),i=r(4108);function o(e,t,r,n,o,s){const l=(0,i.E1)("TextReader");return(0,i.Wz)(),(0,i.Az)(l)}const s=(0,i.QD)("input",{id:"fileInput",type:"file"},null,-1);function l(e,t,r,n,o,l){return(0,i.Wz)(),(0,i.An)("div",null,[(0,i.QD)("button",{onClick:t[0]||(t[0]=(...e)=>l.read&&l.read(...e)),id:"read"},"Прочитать"),s])}var u=r(2332),c=(r(3248),r(2912),r(9904),r(6096),r(8208),r(8592),{data(){return{wordsArr:[]}},methods:{getSortedArray(e){const t=[];let r={word:"",count:0};while(Object.keys(e).length>0){for(const t in e)e[t]>r.count&&(r.word=t,r.count=e[t]);t.push(structuredClone(r)),delete e[r.word],r.word="",r.count=0}return t},deletePlural(e){let t=[];for(const r in e)"s"!==r.at(-1)&&t.push(r);for(const r of t)for(const t in e){let n=r+"s";n===t&&delete e[t]}},async read(){let e=document.getElementById("fileInput").files[0],t=new h(e);const r=new RegExp("[^\\w]+|[0-9]","g");console.log("1"),this.wordsArr.splice(0,this.wordsArr.length);while(!t.endOfStream){let e=await t.readLine(),n=e.split("\r\n"),i=n[0].replace(/0[xX][A-Fa-f0-9]+/g,""),o=i.replace(r," "),s=o.replace(/([A-Z])/g," $1"),l=s.split(" ");for(let t of l)if(""!==t){t=t.toLowerCase();let e=!1;for(const r of this.wordsArr)if(t===r.word){r.count++,e=!0;break}e||this.wordsArr.push(f(t))}}console.log("2"),a(this.wordsArr),console.log("3"),this.wordsArr.sort(((e,t)=>t.count-e.count)),console.log("4"),console.log(this.wordsArr)}}});function f(e){const t={word:e,count:1};return t}function a(e){const t=[];for(const r of e)"s"!==r.word.at(-1)&&t.push(r);for(const r of t)for(let t=0;t<e.length;t++)if(r.word+"s"===e[t].word){r.count+=e[t].count,e.splice(t,1);break}}class h{get allCachedLinesAreDispatched(){return!(this.lineIndexTracker<this.lineCount)}get blobIsReadInFull(){return!(this.position<this.length)}get bufferIsEmpty(){return 0===this.byteBuffer.length}get endOfStream(){return this.blobIsReadInFull&&this.allCachedLinesAreDispatched&&this.bufferIsEmpty}constructor(e){(0,u.c)(this,"CHUNK_SIZE",8192e3),(0,u.c)(this,"position",0),(0,u.c)(this,"length",0),(0,u.c)(this,"byteBuffer",new Uint8Array(0)),(0,u.c)(this,"lines",[]),(0,u.c)(this,"lineCount",0),(0,u.c)(this,"lineIndexTracker",0),(0,u.c)(this,"fileReader",new FileReader),(0,u.c)(this,"textDecoder",new TextDecoder("utf-8")),this.blob=e,this.length=e.size}blob2arrayBuffer(e){return new Promise(((t,r)=>{this.fileReader.onerror=r,this.fileReader.onload=()=>{t(this.fileReader.result)},this.fileReader.readAsArrayBuffer(e)}))}read(e,t){return new Promise((async(r,n)=>{if(!Number.isInteger(e)||!Number.isInteger(t)||t<1||e<0||e>this.length-1)return void r(new ArrayBuffer(0));let i=e+t;i>this.length&&(i=this.length);let o=this.blob.slice(e,i);r(await this.blob2arrayBuffer(o))}))}readLine(){return new Promise((async(e,t)=>{if(this.allCachedLinesAreDispatched){while(!this.blobIsReadInFull){let t=await this.read(this.position,this.CHUNK_SIZE);this.position+=t.byteLength;let r=new Uint8Array(this.byteBuffer.length+t.byteLength);r.set(this.byteBuffer),r.set(new Uint8Array(t),this.byteBuffer.length),this.byteBuffer=r;let n=this.byteBuffer.lastIndexOf(10);if(n>-1){let t=this.textDecoder.decode(this.byteBuffer).split("\n");this.byteBuffer=this.byteBuffer.slice(n+1);let r=t[0];return this.lines=t.slice(1,t.length-1),this.lineCount=this.lines.length,this.lineIndexTracker=0,void e(r+"\n")}}if(!this.bufferIsEmpty){let t=this.textDecoder.decode(this.byteBuffer);return this.byteBuffer=new Uint8Array(0),void e(t)}e(null)}else e(this.lines[this.lineIndexTracker++]+"\n")}))}}var d=r(4100);const b=(0,d.c)(c,[["render",l]]);var p=b,w={components:{TextReader:p}};const g=(0,d.c)(w,[["render",o]]);var y=g,v=r(3476),A=r.n(v),m=r(7192),I=(0,m.eC)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,n.W0)(y).use(I).use(A()).mount("#app")},3476:function(){}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(t,n,i,o){if(!n){var s=1/0;for(f=0;f<e.length;f++){n=e[f][0],i=e[f][1],o=e[f][2];for(var l=!0,u=0;u<n.length;u++)(!1&o||s>=o)&&Object.keys(r.O).every((function(e){return r.O[e](n[u])}))?n.splice(u--,1):(l=!1,o<s&&(s=o));if(l){e.splice(f--,1);var c=i();void 0!==c&&(t=c)}}return t}o=o||0;for(var f=e.length;f>0&&e[f-1][2]>o;f--)e[f]=e[f-1];e[f]=[n,i,o]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,o,s=n[0],l=n[1],u=n[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(i in l)r.o(l,i)&&(r.m[i]=l[i]);if(u)var f=u(r)}for(t&&t(n);c<s.length;c++)o=s[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(f)},n=self["webpackChunktarget_words_vue"]=self["webpackChunktarget_words_vue"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[999],(function(){return r(6694)}));n=r.O(n)})();
//# sourceMappingURL=app.bda57e0a.js.map