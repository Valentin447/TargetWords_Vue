(function(){"use strict";var e={3580:function(e,t,r){var n=r(7764),o=r(4108);function s(e,t,r,n,s,i){const a=(0,o.E1)("router-view");return(0,o.Wz)(),(0,o.Az)(a)}var i={components:{}},a=r(4100);const l=(0,a.c)(i,[["render",s]]);var c=l,d=r(7464);const u=e=>((0,o.ED)("data-v-dcfbc638"),e=e(),(0,o.ii)(),e),f={class:"index-page-wrap"},h=u((()=>(0,o.QD)("p",{class:"description"},"Загрузите файл с текстом на английском языке. Вы получите список слов которые в нем встречаются, отсортированный в порядке убывания частоты употребления слова. При помощи этог списка вы можете определить какие слова вам нужно выучить. Это позволит реже использовать словарь при чтении этого текста.",-1)));function p(e,t,r,n,s,i){const a=(0,o.E1)("PreLoader"),l=(0,o.E1)("TextReader");return(0,o.Wz)(),(0,o.An)("div",f,[h,(0,o.K2)(a),(0,o.K2)(l)])}var v=r(9096);const g=e=>((0,o.ED)("data-v-f096a1ec"),e=e(),(0,o.ii)(),e),w=g((()=>(0,o.QD)("svg",{class:"preloader__svg","xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.0",width:"120px",height:"120px",viewBox:"0 0 128 128","xml:space":"preserve"},[(0,o.QD)("g",null,[(0,o.QD)("path",{d:"M105.54 39.9l13.56-6.42s-9.67-26.82-47.05-30.1C31.68-.1 15.25 35.6 15.25 35.6S31.13 9.55 63.6 11.1c32.6 1.53 41.96 28.8 41.96 28.8zm-41.6 72.52l-1.2 14.97s28.15 5.04 49.67-25.7c23.3-33.2.46-65.34.46-65.34s14.7 26.8-2.86 54.13c-17.66 27.5-46.05 21.9-46.05 21.9zm-42.06-72.3L9.52 31.58S-8.96 53.4 6.9 87.42c17.12 36.73 56.38 33.03 56.38 33.03s-30.56-.68-45.46-29.55c-14.96-29 4.06-50.8 4.06-50.8z",fill:"#1fbe69"}),(0,o.QD)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 63.9 64.2",to:"120 63.9 64.2",dur:"1080ms",repeatCount:"indefinite"})])],-1))),b=[w];function _(e,t,r,n,s,i){return(0,o.Wz)(),(0,o.An)("div",{class:(0,v.WN)([e.preloaderClass,"preloader"])},b,2)}var m={methods:{off(){preloaderClass="preloader"},on(){preloaderClass="preloader preloader_show"}}};const A=(0,a.c)(m,[["render",_],["__scopeId","data-v-f096a1ec"]]);var D=A;const y={class:"reader"},I={class:"reader__file-name"};function x(e,t,r,n,s,i){const a=(0,o.E1)("DragAndDrop"),l=(0,o.E1)("InputFile"),c=(0,o.E1)("router-view");return(0,o.Wz)(),(0,o.An)(o.ae,null,[(0,o.QD)("div",y,[(0,o.K2)(a,{onDropFile:i.chengeFile},null,8,["onDropFile"]),(0,o.K2)(l,{onInputFile:i.chengeFile},null,8,["onInputFile"]),(0,o.QD)("p",I,(0,v.WA)(s.file.name),1),(0,o.QD)("button",{onClick:t[0]||(t[0]=(...e)=>i.read&&i.read(...e)),id:"read",class:(0,v.WN)([s.readButtonClass,"reader__button-read reader__button-read-hidden"])}," Прочитать ",2)]),(0,o.K2)(c)],64)}var C=r(2332);r(3248),r(2912),r(9904),r(6096),r(8208),r(8592);function E(e,t,r,n,o,s){return null}var W={data(){return{dragAndDrop:!1}},methods:{determineDragAndDrop(){const e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&"FormData"in window&&"FileReader"in window}},mounted(){const e=document.body;e.addEventListener("dragenter",(function(e){e.preventDefault(),e.stopPropagation()})),e.addEventListener("dragover",(function(e){e.preventDefault(),e.stopPropagation()})),e.addEventListener("dragleave",(function(e){e.preventDefault(),e.stopPropagation()})),e.addEventListener("drop",function(e){e.preventDefault(),e.stopPropagation();const t=e.dataTransfer.files[0];this.$emit("dropFile",t)}.bind(this))}};const L=(0,a.c)(W,[["render",E],["__scopeId","data-v-33006224"]]);var O=L;const T=e=>((0,o.ED)("data-v-0951852a"),e=e(),(0,o.ii)(),e),S=T((()=>(0,o.QD)("label",{for:"input__file",class:"input__file-button"},[(0,o.QD)("p",null,"Выберите *.txt файл")],-1))),B=T((()=>(0,o.QD)("p",{class:"input__text-drag-drop"},"или перетащите файл сюда",-1)));function R(e,t,r,n,s,i){return(0,o.Wz)(),(0,o.An)(o.ae,null,[(0,o.QD)("input",{name:"file",type:"file",id:"input__file",class:"input input__file",onChange:t[0]||(t[0]=(...e)=>i.inputChange&&i.inputChange(...e))},null,32),S,B],64)}var F={data(){return{}},methods:{inputChange(e){const t=e.target.files[0];this.$emit("inputFile",t)}}};const Q=(0,a.c)(F,[["render",R],["__scopeId","data-v-0951852a"]]);var k=Q,z=r(7192),P={data(){return{file:{},wordsArr:[],readButtonClass:""}},methods:{...(0,z.sR)(["SET_WORDS_LIST","SET_ALL_WORDS_COUNT"]),chengeFile(e){this.file=e,this.readButtonClass="reader__button-read reader__button-read-showe"},getSortedArray(e){const t=[];let r={word:"",count:0};while(Object.keys(e).length>0){for(const t in e)e[t]>r.count&&(r.word=t,r.count=e[t]);t.push(structuredClone(r)),delete e[r.word],r.word="",r.count=0}return t},deletePlural(e){const t=[];for(const r in e)"s"!==r.at(-1)&&t.push(r);for(const r of t)for(const t in e){const n=r+"s";n===t&&delete e[t]}},isOneSymbolWord(e){const t=/[a-z]/;return!t.test(e)||"a"===e||"i"===e},async read(){const e=new U(this.file),t=new RegExp("[^\\w]+|[0-9]","g");this.wordsArr.splice(0,this.wordsArr.length);const r=[];let n=0;while(!e.endOfStream){const o=await e.readLine(),s=o.split("\r\n"),i=s[0].replace(/0[xX][A-Fa-f0-9]+/g,""),a=i.replace(t," "),l=a.replace(/([A-Z])/g," $1"),c=l.split(" ");for(let e of c)if(""!==e&&(1!==e.length||"a"===e||"i"===e)){n++,e=e.toLowerCase();let t=!1;for(const n of r)if(e===n.word){n.count++,t=!0;break}t||r.push(N(e))}}this.SET_ALL_WORDS_COUNT(n),this.wordsArr=r,K(this.wordsArr),this.wordsArr.sort(((e,t)=>t.count-e.count)),this.SET_WORDS_LIST(this.wordsArr),this.$router.push({path:"/list"})}},components:{DragAndDrop:O,InputFile:k}};function N(e){const t={word:e,count:1};return t}function K(e){const t=[];for(const r of e)"s"!==r.word.at(-1)&&t.push(r);for(const r of t)for(let t=0;t<e.length;t++)if(r.word+"s"===e[t].word){r.count+=e[t].count,e.splice(t,1);break}}class U{get allCachedLinesAreDispatched(){return!(this.lineIndexTracker<this.lineCount)}get blobIsReadInFull(){return!(this.position<this.length)}get bufferIsEmpty(){return 0===this.byteBuffer.length}get endOfStream(){return this.blobIsReadInFull&&this.allCachedLinesAreDispatched&&this.bufferIsEmpty}constructor(e){(0,C.c)(this,"CHUNK_SIZE",8192e3),(0,C.c)(this,"position",0),(0,C.c)(this,"length",0),(0,C.c)(this,"byteBuffer",new Uint8Array(0)),(0,C.c)(this,"lines",[]),(0,C.c)(this,"lineCount",0),(0,C.c)(this,"lineIndexTracker",0),(0,C.c)(this,"fileReader",new FileReader),(0,C.c)(this,"textDecoder",new TextDecoder("utf-8")),this.blob=e,this.length=e.size}blob2arrayBuffer(e){return new Promise(((t,r)=>{this.fileReader.onerror=r,this.fileReader.onload=()=>{t(this.fileReader.result)},this.fileReader.readAsArrayBuffer(e)}))}read(e,t){return new Promise((async(r,n)=>{if(!Number.isInteger(e)||!Number.isInteger(t)||t<1||e<0||e>this.length-1)return void r(new ArrayBuffer(0));let o=e+t;o>this.length&&(o=this.length);let s=this.blob.slice(e,o);r(await this.blob2arrayBuffer(s))}))}readLine(){return new Promise((async(e,t)=>{if(this.allCachedLinesAreDispatched){while(!this.blobIsReadInFull){let t=await this.read(this.position,this.CHUNK_SIZE);this.position+=t.byteLength;let r=new Uint8Array(this.byteBuffer.length+t.byteLength);r.set(this.byteBuffer),r.set(new Uint8Array(t),this.byteBuffer.length),this.byteBuffer=r;let n=this.byteBuffer.lastIndexOf(10);if(n>-1){let t=this.textDecoder.decode(this.byteBuffer).split("\n");this.byteBuffer=this.byteBuffer.slice(n+1);let r=t[0];return this.lines=t.slice(1,t.length-1),this.lineCount=this.lines.length,this.lineIndexTracker=0,void e(r+"\n")}}if(!this.bufferIsEmpty){let t=this.textDecoder.decode(this.byteBuffer);return this.byteBuffer=new Uint8Array(0),void e(t)}e(null)}else e(this.lines[this.lineIndexTracker++]+"\n")}))}}const j=(0,a.c)(P,[["render",x],["__scopeId","data-v-b1f62326"]]);var $=j,Z={components:{TextReader:$,PreLoader:D}};const H=(0,a.c)(Z,[["render",p],["__scopeId","data-v-dcfbc638"]]);var M=H;function V(e,t,r,n,s,i){const a=(0,o.E1)("router-link"),l=(0,o.E1)("ListComponent");return(0,o.Wz)(),(0,o.An)("div",null,[(0,o.K2)(a,{to:"/"},{default:(0,o.Ql)((()=>[(0,o.mY)("Назад")])),_:1}),(0,o.K2)(l)])}const X={class:"info"},Y={class:"info"},q={class:"info"},G={class:"list__word"},J={class:"list__count"};function ee(e,t,r,n,s,i){return(0,o.Wz)(),(0,o.An)(o.ae,null,[(0,o.QD)("div",X,[(0,o.QD)("p",Y,"Всего слов: "+(0,v.WA)(e.countAllWords),1),(0,o.QD)("p",q,"Уникальных слов: "+(0,v.WA)(e.wordsArr.length),1)]),(0,o.QD)("ol",null,[((0,o.Wz)(!0),(0,o.An)(o.ae,null,(0,o.mi)(e.wordsArr,(e=>((0,o.Wz)(),(0,o.An)("li",{class:"list",key:e.id},[(0,o.QD)("p",G,(0,v.WA)(e.word),1),(0,o.QD)("p",J,(0,v.WA)(e.count),1)])))),128))])],64)}var te={data(){return{}},components:{},computed:{...(0,z.ys)(["wordsArr","countAllWords"])}};const re=(0,a.c)(te,[["render",ee],["__scopeId","data-v-4cc8f9b5"]]);var ne=re,oe={components:{ListComponent:ne}};const se=(0,a.c)(oe,[["render",V]]);var ie=se;const ae=[{path:"/",name:"Index",component:M},{path:"/list",name:"List",component:ie}],le=(0,d.gv)({history:(0,d.oz)("/TargetWords_Vue/"),routes:ae});var ce=le,de=(0,z.eC)({state:{wordsArr:[],countAllWords:0},getters:{},mutations:{SET_ALL_WORDS_COUNT(e,t){e.countAllWords=t},SET_WORDS_LIST(e,t){e.wordsArr=t}},actions:{},modules:{}});(0,n.W0)(c).use(de).use(ce).mount("#app")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}r.m=e,function(){var e=[];r.O=function(t,n,o,s){if(!n){var i=1/0;for(d=0;d<e.length;d++){n=e[d][0],o=e[d][1],s=e[d][2];for(var a=!0,l=0;l<n.length;l++)(!1&s||i>=s)&&Object.keys(r.O).every((function(e){return r.O[e](n[l])}))?n.splice(l--,1):(a=!1,s<i&&(i=s));if(a){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[n,o,s]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,s,i=n[0],a=n[1],l=n[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(l)var d=l(r)}for(t&&t(n);c<i.length;c++)s=i[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(d)},n=self["webpackChunktarget_words_vue"]=self["webpackChunktarget_words_vue"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[999],(function(){return r(3580)}));n=r.O(n)})();
//# sourceMappingURL=app.ad1e81d2.js.map